"""
Verification script showing the expected file structure after noise generation
"""

print("="*80)
print("EXPECTED FILE STRUCTURE AFTER NOISE GENERATION")
print("="*80)
print()

print("1. ROSAME Trace Directory:")
print("   benchmark/data/blocks/training/rosame_trace/")
print("   ├── images/")
print("   │   ├── state_0000.png  (101 images total)")
print("   │   ├── state_0001.png")
print("   │   ├── ...")
print("   │   └── state_0100.png")
print("   ├── actions.json")
print("   ├── problem1.pddl_trajectory.json  (ground truth)")
print("   ├── problem1.trajectory             ✓ FULL trajectory (100 steps, states 0-100)")
print("   ├── problem1.masking_info            ✓ FULL masking (101 states)")
print("   └── rosame_probability_observations.json")
print()

print("2. Our Algorithms - Trace 0:")
print("   benchmark/data/blocks/training/our_algorithms_traces/trace_0/")
print("   ├── images/")
print("   │   ├── state_0000.png  (16 images, from ROSAME states 0-15)")
print("   │   ├── state_0001.png")
print("   │   ├── ...")
print("   │   └── state_0015.png")
print("   ├── actions.json")
print("   ├── trace_metadata.json            (start_state: 0, end_state: 15)")
print("   ├── problem1_trace_0_trajectory.json  (ground truth)")
print("   ├── problem1.trajectory             ✓ SPLIT from ROSAME (15 steps, states 0-15)")
print("   └── problem1.masking_info            ✓ SPLIT from ROSAME (16 states)")
print()

print("3. Our Algorithms - Trace 1:")
print("   benchmark/data/blocks/training/our_algorithms_traces/trace_1/")
print("   ├── images/")
print("   │   ├── state_0000.png  (16 images, from ROSAME states 15-30)")
print("   │   ├── state_0001.png")
print("   │   ├── ...")
print("   │   └── state_0015.png")
print("   ├── actions.json")
print("   ├── trace_metadata.json            (start_state: 15, end_state: 30)")
print("   ├── problem1_trace_1_trajectory.json  (ground truth)")
print("   ├── problem1.trajectory             ✓ SPLIT from ROSAME (15 steps, states 15-30)")
print("   └── problem1.masking_info            ✓ SPLIT from ROSAME (16 states)")
print()

print("="*80)
print("KEY POINTS")
print("="*80)
print()
print("✓ File naming: problem1.trajectory (NOT problem1.pddl.trajectory)")
print("✓ File naming: problem1.masking_info (NOT problem1.pddl.masking_info)")
print()
print("✓ ROSAME gets FULL files:")
print("  - problem1.trajectory: 100 steps (actions 0-99, covering states 0-100)")
print("  - problem1.masking_info: 101 lines (one per state)")
print()
print("✓ Our traces get SPLIT files from ROSAME:")
print("  - trace_0: Steps 0-14 from ROSAME trajectory (states 0-15)")
print("  - trace_1: Steps 15-29 from ROSAME trajectory (states 15-30)")
print("  - trace_2: Steps 30-44 from ROSAME trajectory (states 30-45)")
print("  - etc.")
print()
print("✓ All traces use the SAME LLM classifications (from ROSAME processing)")
print("✓ This ensures consistency across all training data")
print()

# Show code verification
print("="*80)
print("CODE VERIFICATION")
print("="*80)
print()
print("In noise_generator.py, _process_trace_for_rosame():")
print("  Line 164: build_trajectory_file(imaged_trajectory, problem_name, trace_dir)")
print("  Line 165: _save_masking_info_file(imaged_trajectory, problem_name, trace_dir)")
print("  → Saves FULL trajectory to rosame_trace/problem1.trajectory")
print("  → Saves FULL masking to rosame_trace/problem1.masking_info")
print()
print("In noise_generator.py, _process_trace_for_our_algorithms():")
print("  Line 256: trace_trajectory = rosame_imaged_trajectory[start_state:end_state]")
print("  Line 263: build_trajectory_file(trace_trajectory, problem_name, trace_dir)")
print("  Line 266: _save_masking_info_file(trace_trajectory, problem_name, trace_dir)")
print("  → Splits and saves to trace_N/problem1.trajectory")
print("  → Splits and saves to trace_N/problem1.masking_info")
print()
